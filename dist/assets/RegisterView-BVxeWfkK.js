import{d as B,u as I,a as M,v as D,r as v,x as G,o as O,e as W,f as j,w as x,y as F,z as T,g as n,h as s,t,i as u,j as d,F as _,k as E,p as b,A as k,B as y,m as P,C as f,l as H,E as $,G as J,H as K,s as Q}from"./index-hcXieGcP.js";import{v as X}from"./utils-DltTuOhC.js";import{_ as Y}from"./AppContainer.vue_vue_type_script_setup_true_lang-Do8g_JjI.js";import"./Question-DJVAB3JS.js";const Z={class:"app-main"},ss={class:"sign-container"},es={class:"login-form"},as={class:"login-form-title mb-4"},is={key:0,class:"alert alert-danger",role:"alert"},ts={class:"mb-3"},ls={for:"login-input-email",class:"form-label"},os={class:"input-group"},ns=["disabled"],rs={key:0,class:"invalid-feedback is-invalid"},us={class:"mb-3"},ds={for:"login-input-password",class:"form-label"},cs={class:"input-group"},vs=["disabled"],ps={class:"mb-3"},ms={for:"login-input-password-confirm",class:"form-label"},fs={class:"input-group"},gs=["disabled"],_s={key:0,class:"invalid-feedback is-invalid"},bs=["disabled"],hs={class:"signup-parties"},ws={class:"signup-link"},ks=B({__name:"RegisterView",setup(ys){const h=F(),{t:a}=I(),{auth:C,user:V,isAnonymous:L,signUpWithGoogle:R}=M(),{spaceLabel:S}=D(),m=v(""),p=v(""),w=v(""),r=v(!1),c=v(null),U=v(!1),g=v([]),o=G(()=>{const i={};if(!U.value)return i;if(m.value===""?i.email=a("Email required"):X(m.value)||(i.email=a("Invalid email")),p.value==="")i.password=[a("Password required")];else if(c.value&&!c.value.isValid){const e=[];c.value.containsLowercaseLetter!==!0&&e.push(a("Require lowercase character")),c.value.containsNonAlphanumericCharacter!==!0&&e.push(a("Require special character")),c.value.containsNumericCharacter!==!0&&e.push(a("Require numeric character")),c.value.meetsMinPasswordLength!==!0&&e.push(a("Minimum password length is {size}",{size:7})),c.value.meetsMaxPasswordLength!==!0&&e.push(a("Password too long")),i.password=e}else p.value!==w.value&&(i.confirmPass=a("Password mismatch"));return i}),A=O(C,i=>{L(i)||h.push({name:"home"})});W(()=>{A()});async function N(){if(!r.value){if(r.value=!0,c.value=await $(C,p.value),U.value=!0,Object.keys(o.value).length>0){r.value=!1;return}try{const i=J.credential(m.value,p.value);await K(V.value,i),h.push({name:"home"})}catch(i){g.value=[a("Server Error")+S.value+": "+i.code]}finally{r.value=!1}}}async function q(){try{await R(),h.push({name:"home"})}catch(i){g.value=[a("Server Error")+S.value+": "+i.code]}}return(i,e)=>{const z=T("RouterLink");return n(),j(Y,null,{default:x(()=>[s("div",Z,[s("div",ss,[s("div",es,[s("div",as,t(u(a)("Sign Up")),1),g.value.length?(n(),d("div",is,[s("ul",null,[(n(!0),d(_,null,E(g.value,l=>(n(),d("li",{key:l},t(l),1))),128))])])):b("",!0),s("div",ts,[s("label",ls,t(u(a)("Email")),1),s("div",os,[e[3]||(e[3]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-at"})],-1)),k(s("input",{type:"email",class:P(["form-control",{"is-invalid":o.value.email}]),id:"login-input-email","onUpdate:modelValue":e[0]||(e[0]=l=>m.value=l),disabled:r.value},null,10,ns),[[y,m.value]]),o.value.email?(n(),d("div",rs,t(o.value.email),1)):b("",!0)])]),s("div",us,[s("label",ds,t(u(a)("Password")),1),s("div",cs,[e[4]||(e[4]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-lock-fill"})],-1)),k(s("input",{type:"password",class:P(["form-control",{"is-invalid":o.value.password}]),id:"login-input-password","onUpdate:modelValue":e[1]||(e[1]=l=>p.value=l),disabled:r.value},null,10,vs),[[y,p.value]]),o.value.password?(n(!0),d(_,{key:0},E(o.value.password,l=>(n(),d("div",{class:"invalid-feedback is-invalid",key:l},t(l),1))),128)):b("",!0)])]),s("div",ps,[s("label",ms,t(u(a)("Confirm Password")),1),s("div",fs,[e[5]||(e[5]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-lock-fill"})],-1)),k(s("input",{type:"password",class:P(["form-control",{"is-invalid":o.value.confirmPass}]),id:"login-input-password-confirm","onUpdate:modelValue":e[2]||(e[2]=l=>w.value=l),disabled:r.value},null,10,gs),[[y,w.value]]),o.value.confirmPass?(n(),d("div",_s,t(o.value.confirmPass),1)):b("",!0)])]),s("button",{type:"button",class:"btn btn-primary",onClick:N,disabled:r.value},[r.value?(n(),d(_,{key:1},[f(t(u(a)("Signing Up"))+" ...",1)],64)):(n(),d(_,{key:0},[f(t(u(a)("Sign Up")),1)],64))],8,bs)]),s("div",hs,[f(t(u(a)("Or Sign Up Using")),1),e[7]||(e[7]=s("br",null,null,-1)),s("button",{type:"button",class:"btn btn-danger google-auth",onClick:q},e[6]||(e[6]=[s("i",{class:"bi bi-google"},null,-1)]))]),s("div",ws,[f(t(u(a)("Or Sign In Using")),1),e[8]||(e[8]=s("br",null,null,-1)),H(z,{to:{name:"login"}},{default:x(()=>[f(t(u(a)("Sign In")),1)]),_:1})])])])]),_:1})}}}),xs=Q(ks,[["__scopeId","data-v-eab4b968"]]);export{xs as default};
