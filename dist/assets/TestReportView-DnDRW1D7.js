import{d as b,u as w,h as y,c as D,j as T,_ as g,a as A,b as s,t as o,e as F,o as x}from"./index-DgVFOuIu.js";import{u as C}from"./userTestService-Bo-wVb0B.js";import"./firestore-CKAN35Ge.js";const V=b({__name:"TestReportView",props:{user_test_id:{type:String,required:!0}},setup(v,{expose:t}){t();const{auth:d}=w(),{testReport:e,initTestReport:u}=C(),c=new Date,n=y(d,async()=>{await u(v.user_test_id)}),i=D(()=>{if(e.value){const a=e.value.started_at.toDate();return new Intl.DateTimeFormat("en-US",{day:"numeric",month:"short",year:c.getFullYear()===a.getFullYear()?void 0:"numeric",hour:"numeric",minute:"numeric"}).format(a)}return""}),R=D(()=>{var a;if(e.value){const S=e.value.started_at.toDate(),f=(a=e.value.ended_in)==null?void 0:a.toDate();if(f){let r=Math.floor((f-S)/1e3);const m=Math.floor(r/60/60);r=r-m*60*60;const p=Math.floor(r/60);r=r-p*60;const h=r;let l=[];return m&&l.push(m+"h"),p&&l.push(p+"min"),h&&l.push(h+"s"),l.join(" ")}return""}return""});T(()=>{n()});const _={auth:d,testReport:e,initTestReport:u,currentDate:c,onAuthEventDispose:n,startedAt:i,lastedFor:R};return Object.defineProperty(_,"__isScriptSetup",{enumerable:!1,value:!0}),_}}),I={key:0,class:"test-report-container"},N={class:"test-report-content"},U={class:"test-item-value"},j={class:"test-item-value"},k={class:"test-item-value"},B={class:"test-item-value"},M={class:"test-item-value"},q={class:"test-item-value"};function E(v,t,d,e,u,c){var n,i;return e.testReport?(x(),A("div",I,[s("fieldset",null,[t[6]||(t[6]=s("legend",{class:"test-report-header"},"Test Results",-1)),s("div",N,[t[0]||(t[0]=s("div",{class:"test-item-label"},"Test:",-1)),s("div",U,o(e.testReport.test.name),1),t[1]||(t[1]=s("div",{class:"test-item-label"},"Full Name:",-1)),s("div",j,o(e.testReport.user.displayName),1),t[2]||(t[2]=s("div",{class:"test-item-label"},"Answered Questions:",-1)),s("div",k,o(((n=e.testReport.report)==null?void 0:n.length)??0)+" out of "+o(e.testReport.test.questionCount),1),t[3]||(t[3]=s("div",{class:"test-item-label"},"Started At:",-1)),s("div",B,o(e.startedAt),1),t[4]||(t[4]=s("div",{class:"test-item-label"},"Lasted For:",-1)),s("div",M,o(e.lastedFor),1),t[5]||(t[5]=s("div",{class:"test-item-label"},"Score:",-1)),s("div",q,o(((i=e.testReport.result)==null?void 0:i.score)??0)+" / "+o(e.testReport.test.max_points),1)])])])):F("",!0)}const Q=g(V,[["render",E],["__scopeId","data-v-e635e869"],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/views/TestReportView.vue"]]);export{Q as default};
