import{d as S,u as x,a as C,v as w,r as v,x as V,o as B,e as F,f as A,w as D,g as s,h as a,j as n,F as p,k as E,t as o,p as y,i as r,C as f,A as I,B as q,m as L,I as T,s as U}from"./index-Cr91u6jy.js";import{u as j}from"./userTestService-k2xZQUmy.js";import{_ as z}from"./AppContainer.vue_vue_type_script_setup_true_lang-Bo-b2LcD.js";import"./firestore-CQCayiu2.js";const M={class:"app-main"},O={key:0,class:"alert alert-danger",role:"alert"},P={class:"personal-info-form"},R={class:"form-title mb-4"},$={class:"mb-3"},G={for:"test-input-name",class:"form-label"},H=["disabled"],J={key:0,class:"invalid-feedback is-invalid"},K=["disabled"],Q=S({__name:"SettingsView",setup(W){const{t:l}=x(),{auth:b}=C(),{displayName:i,updateDisplayName:h}=j(),{spaceLabel:N}=w(),_=v(!1),t=v(!1),u=v([]);v("");const d=V(()=>{const e={};return _.value&&i.value.trim()===""&&(e.displayName=l("Full Name required")),e}),k=B(b,e=>{e!=null&&e.displayName&&(i.value=e.displayName)});F(()=>{k()});async function g(){if(!t.value){if(t.value=!0,_.value=!0,Object.keys(d.value).length>0){t.value=!1;return}try{await h(),u.value=[]}catch(e){u.value=[l("Server Error")+N.value+": "+e.code]}finally{t.value=!1}}}return(e,c)=>(s(),A(z,null,{default:D(()=>[a("div",M,[u.value.length?(s(),n("div",O,[a("ul",null,[(s(!0),n(p,null,E(u.value,m=>(s(),n("li",{key:m},o(m),1))),128))])])):y("",!0),a("div",P,[a("div",R,o(r(l)("Personal Information")),1),a("div",$,[a("label",G,[f(o(r(l)("Full Name")),1),c[1]||(c[1]=a("span",{class:"required"},"*",-1))]),I(a("input",{type:"text",class:L(["form-control",{"is-invalid":d.value.displayName}]),id:"test-input-name","onUpdate:modelValue":c[0]||(c[0]=m=>T(i)?i.value=m:null),disabled:t.value,"aria-required":""},null,10,H),[[q,r(i)]]),d.value.displayName?(s(),n("div",J,o(d.value.displayName),1)):y("",!0)]),a("button",{type:"button",class:"btn btn-primary",onClick:g,disabled:t.value},[t.value?(s(),n(p,{key:1},[f(o(r(l)("Saving"))+" ...",1)],64)):(s(),n(p,{key:0},[f(o(r(l)("Save")),1)],64))],8,K)])])]),_:1}))}}),ae=U(Q,[["__scopeId","data-v-44f55735"]]);export{ae as default};
