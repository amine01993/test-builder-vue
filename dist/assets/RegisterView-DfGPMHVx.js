import{d as z,s as B,u as I,a as O,v as M,r as d,x as W,o as j,e as G,E as F,D as T,g as H,z as J,h as K,w as L,i as o,j as e,t as r,k as l,F as _,l as R,q as b,A as C,B as P,p as U,C as v,m as Q}from"./index-CEw6Ur-o.js";import{v as X}from"./utils-BFrGjP34.js";import{A as Y}from"./AppContainer-CrW-O1Ra.js";import"./Question-DJVAB3JS.js";const Z=z({__name:"RegisterView",setup(q,{expose:i}){i();const c=B(),{t:s}=I(),{auth:h,user:w,isAnonymous:p,signUpWithGoogle:a}=O(),{spaceLabel:k}=M(),f=d(""),g=d(""),x=d(""),m=d(!1);let n=d(null);const y=d(!1),S=d([]),E=W(()=>{const t={};if(!y.value)return t;if(f.value===""?t.email=s("Email required"):X(f.value)||(t.email=s("Invalid email")),g.value==="")t.password=[s("Password required")];else if(n.value&&!n.value.isValid){const u=[];n.value.containsLowercaseLetter!==!0&&u.push(s("Require lowercase character")),n.value.containsNonAlphanumericCharacter!==!0&&u.push(s("Require special character")),n.value.containsNumericCharacter!==!0&&u.push(s("Require numeric character")),n.value.meetsMinPasswordLength!==!0&&u.push(s("Minimum password length is {size}",{size:7})),n.value.meetsMaxPasswordLength!==!0&&u.push(s("Password too long")),t.password=u}else g.value!==x.value&&(t.confirmPass=s("Password mismatch"));return t}),V=j(h,t=>{p(t)||c.push({name:"home"})});G(()=>{V()});async function D(){if(!m.value){if(m.value=!0,y.value=!0,Object.keys(E.value).length>0){m.value=!1;return}try{const t=F.credential(f.value,g.value);await T(w.value,t),c.push({name:"home"})}catch(t){S.value=[s("Server Error")+k.value+": "+t.code]}finally{m.value=!1}}}async function N(){try{await a(),c.push({name:"home"})}catch(t){S.value=[s("Server Error")+k.value+": "+t.code]}}const A={router:c,t:s,auth:h,user:w,isAnonymous:p,signUpWithGoogle:a,spaceLabel:k,email:f,password:g,confirmPass:x,submitting:m,get validationStatus(){return n},set validationStatus(t){n=t},submitted:y,serverErrors:S,errors:E,onAuthEventDispose:V,register:D,signUpWithG:N,AppContainer:Y};return Object.defineProperty(A,"__isScriptSetup",{enumerable:!1,value:!0}),A}}),$={class:"app-main"},ss={class:"sign-container"},es={class:"login-form"},is={class:"login-form-title mb-4"},ts={key:0,class:"alert alert-danger",role:"alert"},as={class:"mb-3"},rs={for:"login-input-email",class:"form-label"},os={class:"input-group"},ns=["disabled"],ls={key:0,class:"invalid-feedback is-invalid"},ds={class:"mb-3"},us={for:"login-input-password",class:"form-label"},cs={class:"input-group"},ms=["disabled"],vs={class:"mb-3"},ps={for:"login-input-password-confirm",class:"form-label"},fs={class:"input-group"},gs=["disabled"],_s={key:0,class:"invalid-feedback is-invalid"},bs=["disabled"],hs={class:"signup-parties"},ws={class:"signup-link"};function ks(q,i,c,s,h,w){const p=J("RouterLink");return o(),K(s.AppContainer,null,{default:L(()=>[e("div",$,[e("div",ss,[e("div",es,[e("div",is,r(s.t("Sign Up")),1),s.serverErrors.length?(o(),l("div",ts,[e("ul",null,[(o(!0),l(_,null,R(s.serverErrors,a=>(o(),l("li",{key:a},r(a),1))),128))])])):b("",!0),e("div",as,[e("label",rs,r(s.t("Email")),1),e("div",os,[i[3]||(i[3]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-at"})],-1)),C(e("input",{type:"email",class:U(["form-control",{"is-invalid":s.errors.email}]),id:"login-input-email","onUpdate:modelValue":i[0]||(i[0]=a=>s.email=a),disabled:s.submitting},null,10,ns),[[P,s.email]]),s.errors.email?(o(),l("div",ls,r(s.errors.email),1)):b("",!0)])]),e("div",ds,[e("label",us,r(s.t("Password")),1),e("div",cs,[i[4]||(i[4]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-lock-fill"})],-1)),C(e("input",{type:"password",class:U(["form-control",{"is-invalid":s.errors.password}]),id:"login-input-password","onUpdate:modelValue":i[1]||(i[1]=a=>s.password=a),disabled:s.submitting},null,10,ms),[[P,s.password]]),s.errors.password?(o(!0),l(_,{key:0},R(s.errors.password,a=>(o(),l("div",{class:"invalid-feedback is-invalid",key:a},r(a),1))),128)):b("",!0)])]),e("div",vs,[e("label",ps,r(s.t("Confirm Password")),1),e("div",fs,[i[5]||(i[5]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-lock-fill"})],-1)),C(e("input",{type:"password",class:U(["form-control",{"is-invalid":s.errors.confirmPass}]),id:"login-input-password-confirm","onUpdate:modelValue":i[2]||(i[2]=a=>s.confirmPass=a),disabled:s.submitting},null,10,gs),[[P,s.confirmPass]]),s.errors.confirmPass?(o(),l("div",_s,r(s.errors.confirmPass),1)):b("",!0)])]),e("button",{type:"button",class:"btn btn-primary",onClick:s.register,disabled:s.submitting},[s.submitting?(o(),l(_,{key:1},[v(r(s.t("Signing Up"))+" ...",1)],64)):(o(),l(_,{key:0},[v(r(s.t("Sign Up")),1)],64))],8,bs)]),e("div",hs,[v(r(s.t("Or Sign Up Using")),1),i[7]||(i[7]=e("br",null,null,-1)),e("button",{type:"button",class:"btn btn-danger google-auth",onClick:s.signUpWithG},i[6]||(i[6]=[e("i",{class:"bi bi-google"},null,-1)]))]),e("div",ws,[v(r(s.t("Or Sign In Using")),1),i[8]||(i[8]=e("br",null,null,-1)),Q(p,{to:{name:"login"}},{default:L(()=>[v(r(s.t("Sign In")),1)]),_:1})])])])]),_:1})}const Us=H(Z,[["render",ks],["__scopeId","data-v-bf0653ef"],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/views/RegisterView.vue"]]);export{Us as default};
