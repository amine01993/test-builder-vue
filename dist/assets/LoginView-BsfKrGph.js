import{d as V,u as h,r,b as A,e as N,f as I,c as i,a as p,g as s,F as _,h as O,i as m,w,v as k,n as y,t as g,j as c,k as P,l as B,s as D,m as R,o as l}from"./index-BZGiZpMA.js";import{u as j,_ as q,a as F}from"./AppMenu.vue_vue_type_script_setup_true_lang-B-iYmG8d.js";import{_ as G}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={class:"app-main"},T={class:"sign-container"},$={class:"login-form"},z={key:0,class:"alert alert-danger",role:"alert"},W={class:"mb-3"},H={class:"input-group"},J={key:0,class:"invalid-feedback is-invalid"},K={class:"mb-3"},Q={class:"input-group"},X={key:0,class:"invalid-feedback is-invalid"},Y={class:"signup-link"},Z=V({__name:"LoginView",setup(ss){const C=B(),{auth:f,isAnonymous:S}=h(),{validateEmail:x}=j(),n=r(""),u=r(""),b=r(!1),d=r(!1),v=r([]),o=A(()=>{const t={};return b.value&&(n.value===""?t.email="Email required":x(n.value)||(t.email="Invalid email"),u.value===""&&(t.password="Password required")),t}),E=N(f,t=>{console.log("Loginview onAuthStateChanged",t),S(t)||C.push({name:"home"})});I(()=>{E()});async function L(){if(!d.value){if(d.value=!0,b.value=!0,Object.keys(o.value).length>0){d.value=!0;return}try{const t=await D(f,n.value,u.value);console.log("login.userCredential",t),v.value=[]}catch(t){console.log("login.error",t),v.value=["Server Error: "+t.code]}finally{d.value=!1}}}return(t,e)=>{const U=R("RouterLink");return l(),i(_,null,[p(q),p(F),s("div",M,[s("div",T,[s("div",$,[e[6]||(e[6]=s("div",{class:"login-form-title mb-4"},"Login",-1)),v.value.length?(l(),i("div",z,[s("ul",null,[(l(!0),i(_,null,O(v.value,a=>(l(),i("li",{key:a},g(a),1))),128))])])):m("",!0),s("div",W,[e[3]||(e[3]=s("label",{for:"login-input-email",class:"form-label"},"Email",-1)),s("div",H,[e[2]||(e[2]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-at"})],-1)),w(s("input",{type:"email",class:y(["form-control",{"is-invalid":o.value.email}]),id:"login-input-email","onUpdate:modelValue":e[0]||(e[0]=a=>n.value=a)},null,2),[[k,n.value]]),o.value.email?(l(),i("div",J,g(o.value.email),1)):m("",!0)])]),s("div",K,[e[5]||(e[5]=s("label",{for:"login-input-password",class:"form-label"},"Password",-1)),s("div",Q,[e[4]||(e[4]=s("span",{class:"input-group-text"},[s("i",{class:"bi bi-lock-fill"})],-1)),w(s("input",{type:"password",class:y(["form-control",{"is-invalid":o.value.password}]),id:"login-input-password","onUpdate:modelValue":e[1]||(e[1]=a=>u.value=a)},null,2),[[k,u.value]]),o.value.password?(l(),i("div",X,g(o.value.password),1)):m("",!0)])]),s("button",{type:"button",class:"btn btn-primary",onClick:L},"LOGIN")]),e[10]||(e[10]=s("div",{class:"signup-parties"},[c(" Or Sign Up Using "),s("br"),s("button",{type:"button",class:"btn btn-danger google-auth"},[s("i",{class:"bi bi-google"})])],-1)),s("div",Y,[e[8]||(e[8]=c(" Or Sign Up Using ")),e[9]||(e[9]=s("br",null,null,-1)),p(U,{to:{name:"register"}},{default:P(()=>e[7]||(e[7]=[c("SIGN UP")])),_:1})])])])],64)}}}),as=G(Z,[["__scopeId","data-v-926426fe"]]);export{as as default};
