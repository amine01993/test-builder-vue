import{d as S,u as x,a as C,v as w,r as m,x as V,o as B,e as F,f as A,w as D,g as s,h as a,j as n,F as v,k as E,t as o,p as f,i as r,A as I,B as L,m as T,I as U,C as y,s as j}from"./index-B1zD-M5g.js";import{u as z}from"./userTestService-DRUdemcW.js";import{_ as q}from"./AppContainer.vue_vue_type_script_setup_true_lang-5ZPq4PI3.js";import"./firestore-qVOR4QEO.js";const M={class:"app-main"},O={key:0,class:"alert alert-danger",role:"alert"},P={class:"personal-info-form"},R={class:"form-title mb-4"},$={class:"mb-3"},G={for:"test-input-name",class:"form-label"},H=["disabled"],J={key:0,class:"invalid-feedback is-invalid"},K=["disabled"],Q=S({__name:"SettingsView",setup(W){const{t:l}=x(),{auth:h}=C(),{displayName:i,updateDisplayName:b}=z(),{spaceLabel:N}=w(),p=m(!1),t=m(!1),u=m([]);m("");const d=V(()=>{const e={};return p.value&&i.value===""&&(e.displayName=l("Full Name required")),e}),k=B(h,async e=>{e!=null&&e.displayName&&(i.value=e.displayName)});F(()=>{k()});async function g(){if(!t.value){if(t.value=!0,p.value=!0,Object.keys(d.value).length>0){t.value=!1;return}try{await b(),u.value=[]}catch(e){u.value=[l("Server Error")+N.value+": "+e.code]}finally{t.value=!1}}}return(e,_)=>(s(),A(q,null,{default:D(()=>[a("div",M,[u.value.length?(s(),n("div",O,[a("ul",null,[(s(!0),n(v,null,E(u.value,c=>(s(),n("li",{key:c},o(c),1))),128))])])):f("",!0),a("div",P,[a("div",R,o(r(l)("Personal Information")),1),a("div",$,[a("label",G,o(r(l)("Full Name")),1),I(a("input",{type:"text",class:T(["form-control",{"is-invalid":d.value.displayName}]),id:"test-input-name","onUpdate:modelValue":_[0]||(_[0]=c=>U(i)?i.value=c:null),disabled:t.value},null,10,H),[[L,r(i)]]),d.value.displayName?(s(),n("div",J,o(d.value.displayName),1)):f("",!0)]),a("button",{type:"button",class:"btn btn-primary",onClick:g,disabled:t.value},[t.value?(s(),n(v,{key:1},[y(o(r(l)("Saving"))+" ...",1)],64)):(s(),n(v,{key:0},[y(o(r(l)("Save")),1)],64))],8,K)])])]),_:1}))}}),ae=j(Q,[["__scopeId","data-v-254352da"]]);export{ae as default};
