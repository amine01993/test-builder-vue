import{d as A,q as G,u as N,g as I,r as l,c as O,h as D,j as P,s as B,_ as W,v as j,l as q,w as C,o as n,b as e,a as r,F as f,m as R,t as _,e as w,x as E,y as S,n as h,z as d,p as z}from"./index-DgVFOuIu.js";import{A as F}from"./AppContainer-B7WmBWY1.js";import"./Breadcrumb-0WoaLxXW.js";const M=A({__name:"LoginView",setup(x,{expose:s}){s();const u=G(),{auth:i,isAnonymous:v,signUpWithGoogle:c}=N(),{validateEmail:m}=I(),o=l(""),g=l(""),b=l(!1),a=l(!1),p=l([]),y=O(()=>{const t={};return b.value&&(o.value===""?t.email="Email required":m(o.value)||(t.email="Invalid email"),g.value===""&&(t.password="Password required")),t}),k=D(i,t=>{v(t)||u.push({name:"home"})});P(()=>{k()});async function L(){if(!a.value){if(a.value=!0,b.value=!0,Object.keys(y.value).length>0){a.value=!1;return}try{await B(i,o.value,g.value),p.value=[]}catch(t){p.value=["Server Error: "+t.code]}finally{a.value=!1}}}async function V(){try{await c(),u.push({name:"home"})}catch(t){p.value=["Server Error: "+t.code]}}const U={router:u,auth:i,isAnonymous:v,signUpWithGoogle:c,validateEmail:m,email:o,password:g,submitted:b,submitting:a,serverErrors:p,errors:y,onAuthEventDispose:k,login:L,signUpWithG:V,AppContainer:F};return Object.defineProperty(U,"__isScriptSetup",{enumerable:!1,value:!0}),U}}),T={class:"app-main"},H={class:"sign-container"},J={class:"login-form"},K={key:0,class:"alert alert-danger",role:"alert"},Q={class:"mb-3"},X={class:"input-group"},Y=["disabled"],Z={key:0,class:"invalid-feedback is-invalid"},$={class:"mb-3"},ss={class:"input-group"},es=["disabled"],is={key:0,class:"invalid-feedback is-invalid"},os=["disabled"],ts={class:"signup-link"};function ns(x,s,u,i,v,c){const m=j("RouterLink");return n(),q(i.AppContainer,null,{default:C(()=>[e("div",T,[e("div",H,[e("div",J,[s[6]||(s[6]=e("div",{class:"login-form-title mb-4"},"Login",-1)),i.serverErrors.length?(n(),r("div",K,[e("ul",null,[(n(!0),r(f,null,R(i.serverErrors,o=>(n(),r("li",{key:o},_(o),1))),128))])])):w("",!0),e("div",Q,[s[3]||(s[3]=e("label",{for:"login-input-email",class:"form-label"},"Email",-1)),e("div",X,[s[2]||(s[2]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-at"})],-1)),E(e("input",{type:"email",class:h(["form-control",{"is-invalid":i.errors.email}]),id:"login-input-email","onUpdate:modelValue":s[0]||(s[0]=o=>i.email=o),disabled:i.submitting},null,10,Y),[[S,i.email]]),i.errors.email?(n(),r("div",Z,_(i.errors.email),1)):w("",!0)])]),e("div",$,[s[5]||(s[5]=e("label",{for:"login-input-password",class:"form-label"},"Password",-1)),e("div",ss,[s[4]||(s[4]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-lock-fill"})],-1)),E(e("input",{type:"password",class:h(["form-control",{"is-invalid":i.errors.password}]),id:"login-input-password","onUpdate:modelValue":s[1]||(s[1]=o=>i.password=o),disabled:i.submitting},null,10,es),[[S,i.password]]),i.errors.password?(n(),r("div",is,_(i.errors.password),1)):w("",!0)])]),e("button",{type:"button",class:"btn btn-primary",onClick:i.login,disabled:i.submitting},[i.submitting?(n(),r(f,{key:1},[d("LOGGING IN ...")],64)):(n(),r(f,{key:0},[d("LOGIN")],64))],8,os)]),e("div",{class:"signup-parties"},[s[8]||(s[8]=d(" Or Sign Up Using ")),s[9]||(s[9]=e("br",null,null,-1)),e("button",{type:"button",class:"btn btn-danger google-auth",onClick:i.signUpWithG},s[7]||(s[7]=[e("i",{class:"bi bi-google"},null,-1)]))]),e("div",ts,[s[11]||(s[11]=d(" Or Sign Up Using ")),s[12]||(s[12]=e("br",null,null,-1)),z(m,{to:{name:"register"}},{default:C(()=>s[10]||(s[10]=[d("SIGN UP")])),_:1})])])])]),_:1})}const ds=W(M,[["render",ns],["__scopeId","data-v-45f5edd7"],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/views/LoginView.vue"]]);export{ds as default};
