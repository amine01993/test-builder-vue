import{d as B,u as N,b as E,K as I,a as D,x as _,o as H,e as P,f as h,w as $,y as j,g as n,i as s,j as c,h as e,t as u,C as K,p as d,F as R,k as U,s as Y}from"./index-hcXieGcP.js";import{u as q}from"./testService-NaHZ2zF2.js";import{f as z}from"./utils-DltTuOhC.js";import{_ as G}from"./DisplayQuestion.vue_vue_type_script_setup_true_lang-Cm-YcwjL.js";import{_ as J}from"./AppContainer.vue_vue_type_script_setup_true_lang-Do8g_JjI.js";import"./firestore-t582GyIa.js";import"./Question-DJVAB3JS.js";const O={key:0,class:"app-test-header"},Q={class:"test-name"},W={class:"test-limit"},X={key:1,class:"app-test-description"},Z=["innerHTML"],tt={class:"test-points"},et={key:2,class:"app-main"},st={class:"app-test-actions"},ot=["aria-label"],it=B({__name:"PreviewTestView",props:{test_id:{}},setup(b){const v=j(),{t:o}=N(),{startLoading:T,endLoading:y,showMessage:p}=E(),{confirm:w}=I(),{auth:g}=D(),{test:t,time_limit:k,loadTest:S}=q();let a;const x=_(()=>{const i=z(k.value);return i===""?o("Time out"):i}),C=_(()=>{var i;return(i=t.value)!=null&&i.description?t.value.description.replace(/\n/g,"<br />"):""}),L=H(g,async()=>{T();try{if(a=await S(b.test_id,!0),!t.value){p("failure",o("Test Not Found."));return}}catch{p("failure",o("Error loading test data."))}finally{y()}});P(()=>{L(),a!==void 0&&(clearInterval(a),a=void 0)});function F(){window.scrollTo(0,0)}function M(){w(o("Are you sure you want to submit the test?<br>You will not be able to continue the test once it is submitted."),o("Submit"),async()=>{V()})}function V(){v.push({name:"tests"})}return(i,r)=>(n(),h(J,null,{default:$(()=>{var m,f;return[s(t)?(n(),c("div",O,[e("div",Q,u(s(t).name),1),e("div",W,[r[0]||(r[0]=e("i",{class:"bi bi-alarm"},null,-1)),K(" "+u(x.value),1)])])):d("",!0),(m=s(t))!=null&&m.description?(n(),c("div",X,[e("div",{class:"test-description",innerHTML:C.value},null,8,Z),e("div",tt," ("+u(s(t).max_points)+" pts) ",1)])):d("",!0),s(t)?(n(),c("div",et,[(n(!0),c(R,null,U((f=s(t))==null?void 0:f.questions,(l,A)=>(n(),h(G,{key:l.id,question:l,choices:l.choices,nbr:A+1,preview:!0},null,8,["question","choices","nbr"]))),128)),e("div",st,[e("button",{type:"button",class:"btn btn-outline-primary to-the-top",onClick:F,"aria-label":s(o)("go to the top of the page")},r[1]||(r[1]=[e("i",{class:"bi bi-arrow-up"},null,-1)]),8,ot),e("button",{type:"button",class:"btn btn-primary",onClick:M},u(s(o)("Finish The Test")),1)])])):d("",!0)]}),_:1}))}}),pt=Y(it,[["__scopeId","data-v-f6d7920a"]]);export{pt as default};
