const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/TestItem-Bd2bl5kU.js","assets/index-CEw6Ur-o.js","assets/index-B9IBSnwR.css","assets/testItem-jgsOhYxF.js","assets/testService-F-kZAI4C.js","assets/firestore-O8Pw084e.js","assets/Question-DJVAB3JS.js","assets/utils-BFrGjP34.js","assets/TestItemD-CZ8_FpKD.js"])))=>i.map(i=>d[i]);
import{d as N,u as P,v as B,b as M,a as q,r as O,o as j,c as z,e as F,n as U,R as H,f as w,_ as D,g as Q,h as d,w as E,i as s,j as t,m as k,C as I,t as a,k as r,F as i,q as v,l as h,p as G}from"./index-CEw6Ur-o.js";import{u as J}from"./testService-F-kZAI4C.js";import{A as K}from"./AppContainer-CrW-O1Ra.js";import"./firestore-O8Pw084e.js";import"./Question-DJVAB3JS.js";const W=N({__name:"TestsView",setup(S,{expose:_}){_();const{t:u}=P(),{spaceLabel:e}=B(),{isDesktop:T,showMessage:m}=M(),{auth:o,user:f}=q(),{testCount:A,tests:V,loadTestCount:g,loadTests:C,loadMoreTests:p}=J(),c=O(!1);let n=null;const x=w(()=>D(()=>import("./TestItem-Bd2bl5kU.js"),__vite__mapDeps([0,1,2,3,4,5,6,7]))),R=w(()=>D(()=>import("./TestItemD-CZ8_FpKD.js"),__vite__mapDeps([8,1,2,3,4,5,6,7]))),L=j(o,async()=>{try{if(f===null)return;await Promise.all([g(),C()]),n||(n=document.querySelector(".tests-loader"),l())}catch{m("failure",u("Error loading tests."))}});z(()=>{document.addEventListener("scroll",l),n||(n=document.querySelector(".tests-loader"),l())}),F(()=>{L(),document.removeEventListener("scroll",l)});async function l(){if(n&&!c.value&&n.getBoundingClientRect().top<window.innerHeight&&f.value){c.value=!0;try{await p(),await U(),n=document.querySelector(".tests-loader"),c.value=!1,l()}catch{m("failure",u("Error loading more tests."))}finally{c.value=!1}}}const b={t:u,spaceLabel:e,isDesktop:T,showMessage:m,auth:o,user:f,testCount:A,tests:V,loadTestCount:g,loadTests:C,loadMoreTests:p,loadingTests:c,get testsLoaderEl(){return n},set testsLoaderEl(y){n=y},TestItem:x,TestItemD:R,onAuthEventDispose:L,checkLoaderVisiblity:l,get RouterLink(){return H},AppContainer:K};return Object.defineProperty(b,"__isScriptSetup",{enumerable:!1,value:!0}),b}}),X={class:"app-main"},Y={class:"test-actions"},Z={key:0,class:"test-info"},$={class:"test-info-label"},ee={key:1,class:"placeholder-wave"},te={class:"test-list"},se={scope:"col"},oe={scope:"col"},ae={scope:"col"},ne={scope:"col"},re={scope:"col"},le={scope:"col"},ie={scope:"col"};function ce(S,_,u,e,T,m){return s(),d(e.AppContainer,null,{default:E(()=>[t("div",X,[t("div",Y,[k(e.RouterLink,{to:{name:"create-test"},class:"btn btn-warning create-test"},{default:E(()=>[I(a(e.t("Create New Test")),1)]),_:1})]),e.testCount!==0?(s(),r("div",Z,[e.testCount?(s(),r(i,{key:0},[t("span",$,a(e.t("Total number of tests"))+a(e.spaceLabel)+":",1),I(" "+a(e.testCount),1)],64)):(s(),r("div",ee,_[0]||(_[0]=[t("div",{class:"placeholder placeholder-lg col-8 bg-secondary"},null,-1)])))])):v("",!0),t("div",te,[e.isDesktop?(s(),r("table",{key:1,class:G(["table",{loading:!e.tests}])},[t("thead",null,[t("tr",null,[t("th",se,a(e.t("Test")),1),t("th",oe,a(e.t("Description")),1),t("th",ae,a(e.t("Max Points")),1),t("th",ne,a(e.t("Time Limit")),1),t("th",re,a(e.t("Nbr of Questions")),1),t("th",le,a(e.t("Last updated at")),1),t("th",ie,a(e.t("Actions")),1)])]),t("tbody",null,[e.tests?(s(!0),r(i,{key:0},h(e.tests,o=>(s(),d(e.TestItemD,{test:o,key:o.id},null,8,["test"]))),128)):(s(),r(i,{key:1},h(5,o=>k(e.TestItemD,{key:"test-placeholder-"+o})),64)),e.testCount&&e.tests&&e.tests.length<e.testCount?(s(),d(e.TestItemD,{key:"test-placeholder-loading",class:"tests-loader"})):v("",!0)])],2)):(s(),r(i,{key:0},[e.tests?(s(!0),r(i,{key:0},h(e.tests,o=>(s(),d(e.TestItem,{test:o,key:o.id},null,8,["test"]))),128)):(s(),r(i,{key:1},h([0,1,2],o=>k(e.TestItem,{key:"test-placeholder-"+o})),64)),e.testCount&&e.tests&&e.tests.length<e.testCount?(s(),d(e.TestItem,{key:"test-placeholder-loading",class:"tests-loader"})):v("",!0)],64))])])]),_:1})}const fe=Q(W,[["render",ce],["__scopeId","data-v-8faed77a"],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/views/TestsView.vue"]]);export{fe as default};
