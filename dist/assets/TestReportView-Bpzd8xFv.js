import{d as D,u as L,v as g,a as y,b as T,o as w,x as f,e as A,g as x,k as C,j as s,t as e,q as F,i as N}from"./index-CEw6Ur-o.js";import{u as V}from"./userTestService-De5gKojP.js";import{a as k,b as q}from"./utils-BFrGjP34.js";import"./firestore-O8Pw084e.js";import"./Question-DJVAB3JS.js";const B=D({__name:"TestReportView",props:{user_test_id:{type:String,required:!0}},setup(l,{expose:d}){d();const{t:r,locale:t}=L(),{spaceLabel:_}=g(),{auth:i}=y(),{testReport:a,initTestReport:o}=V(),{startLoading:u,endLoading:v,showMessage:c}=T(),m=w(i,async()=>{u();try{if(await o(l.user_test_id),!a.value){c("failure",r("Test Report Not Found."));return}}catch{c("failure",r("Error loading data."))}finally{v()}}),b=f(()=>{if(!a.value)return"";const n=a.value.started_at.toDate();return k(n,t.value)}),R=f(()=>{var h;if(!a.value||!a.value.ended_in)return"";const n=a.value.started_at.toDate(),S=(h=a.value.ended_in)==null?void 0:h.toDate();return q(n,S)});A(()=>{m()});const p={t:r,locale:t,spaceLabel:_,auth:i,testReport:a,initTestReport:o,startLoading:u,endLoading:v,showMessage:c,onAuthEventDispose:m,startedAt:b,lastedFor:R};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),E={key:0,class:"test-report-container"},I={class:"test-report-header"},U={class:"test-report-content"},j={class:"test-item-label"},M={class:"test-item-value"},O={class:"test-item-label"},z={class:"test-item-value"},P={class:"test-item-label"},Q={class:"test-item-value"},G={class:"test-item-label"},H={class:"test-item-value"},J={class:"test-item-label"},K={class:"test-item-value"},W={class:"test-item-label"},X={class:"test-item-value"};function Y(l,d,r,t,_,i){var a,o;return t.testReport?(N(),C("div",E,[s("fieldset",null,[s("legend",I,e(t.t("Test Results")),1),s("div",U,[s("div",j,e(t.t("Test"))+e(t.spaceLabel)+":",1),s("div",M,e(t.testReport.test.name),1),s("div",O,e(t.t("Full Name"))+e(t.spaceLabel)+":",1),s("div",z,e(t.testReport.user.displayName),1),s("div",P,e(t.t("Answered Questions"))+e(t.spaceLabel)+":",1),s("div",Q,e(((a=t.testReport.report)==null?void 0:a.length)??0)+" "+e(t.t("out of"))+" "+e(t.testReport.test.questionCount),1),s("div",G,e(t.t("Started At"))+e(t.spaceLabel)+":",1),s("div",H,e(t.startedAt),1),s("div",J,e(t.t("Lasted For"))+e(t.spaceLabel)+":",1),s("div",K,e(t.lastedFor),1),s("div",W,e(t.t("Score"))+e(t.spaceLabel)+":",1),s("div",X,e(((o=t.testReport.result)==null?void 0:o.score)??0)+" / "+e(t.testReport.test.max_points),1)])])])):F("",!0)}const at=x(B,[["render",Y],["__scopeId","data-v-e635e869"],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/views/TestReportView.vue"]]);export{at as default};
