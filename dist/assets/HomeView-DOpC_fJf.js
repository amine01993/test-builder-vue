const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UserTestItem-BHqcm6uR.js","assets/index-CEw6Ur-o.js","assets/index-B9IBSnwR.css","assets/userTestItem-lZoUeirz.js","assets/utils-BFrGjP34.js","assets/Question-DJVAB3JS.js","assets/UserTestItemD-C6GKFS30.js"])))=>i.map(i=>d[i]);
import{d as B,u as P,a as q,b as F,r as H,o as M,c as O,e as R,n as j,f as U,_ as E,g as z,h as d,i as t,w as Q,j as s,t as r,k as a,F as u,l as m,m as D,p as v,q as I}from"./index-CEw6Ur-o.js";import{u as G}from"./testService-F-kZAI4C.js";import{u as J}from"./userTestService-De5gKojP.js";import{A as K}from"./AppContainer-CrW-O1Ra.js";import"./firestore-O8Pw084e.js";import"./Question-DJVAB3JS.js";const h="user-tests-loader",W=B({__name:"HomeView",setup(b,{expose:l}){l();const{t:_}=P(),{auth:e,user:T}=q(),{isDesktop:y,showMessage:o}=F(),{testCount:A,loadTestCount:C}=G(),{userTestCount:L,userTests:V,loadUserTestCount:k,loadUserTests:g,loadMoreUserTests:p}=J(),i=H(!1);let n=null;const N=U(()=>E(()=>import("./UserTestItem-BHqcm6uR.js"),__vite__mapDeps([0,1,2,3,4,5]))),x=U(()=>E(()=>import("./UserTestItemD-C6GKFS30.js"),__vite__mapDeps([6,1,2,3,4,5]))),S=M(e,async()=>{try{await Promise.all([C(),k(),g()]),n||(n=document.querySelector(`.${h}`),c())}catch{o("failure",_("Error loading test sessions."))}});O(()=>{document.addEventListener("scroll",c),n||(n=document.querySelector(`.${h}`),c())}),R(()=>{S(),document.removeEventListener("scroll",c)});async function c(){if(n&&!i.value&&n.getBoundingClientRect().top<window.innerHeight&&T.value){i.value=!0;try{await p(),await j(),n=document.querySelector(`.${h}`),i.value=!1,c()}catch{o("failure",_("Error loading more test sessions."))}finally{i.value=!1}}}const w={t:_,auth:e,user:T,isDesktop:y,showMessage:o,testCount:A,loadTestCount:C,userTestCount:L,userTests:V,loadUserTestCount:k,loadUserTests:g,loadMoreUserTests:p,loadingUserTests:i,get userTestsLoaderEl(){return n},set userTestsLoaderEl(f){n=f},loaderClassName:h,UserTestItem:N,UserTestItemD:x,onAuthEventDispose:S,checkLoaderVisiblity:c,AppContainer:K};return Object.defineProperty(w,"__isScriptSetup",{enumerable:!1,value:!0}),w}}),X={class:"app-main"},Y={class:"test-stats"},Z={class:"test-stat"},$={class:"stat-title"},ee={key:0,class:"stat-content"},se={key:1,class:"placeholder-wave"},te={class:"test-stat"},oe={class:"stat-title"},re={key:0,class:"stat-content"},ae={key:1,class:"placeholder-wave"},ne={class:"test-report-list"},le={scope:"col"},ce={scope:"col"},ie={scope:"col"},de={scope:"col"},ue={scope:"col"},_e={scope:"col"},me={scope:"col"},he={scope:"col"};function Te(b,l,_,e,T,y){return t(),d(e.AppContainer,null,{default:Q(()=>[s("div",X,[s("div",Y,[s("div",Z,[s("div",$,r(e.t("Tests")),1),e.testCount!==void 0?(t(),a("div",ee,r(e.testCount),1)):(t(),a("div",se,l[0]||(l[0]=[s("div",{class:"placeholder placeholder-lg col-8 bg-secondary"},null,-1)])))]),s("div",te,[s("div",oe,r(e.t("Test Sessions")),1),e.userTestCount!==void 0?(t(),a("div",re,r(e.userTestCount),1)):(t(),a("div",ae,l[1]||(l[1]=[s("div",{class:"placeholder placeholder-lg col-8 bg-secondary"},null,-1)])))])]),s("div",ne,[e.isDesktop?(t(),a("table",{key:1,class:v(["table",{loading:!e.userTests}])},[s("thead",null,[s("tr",null,[s("th",le,r(e.t("Test")),1),s("th",ce,r(e.t("Full Name")),1),s("th",ie,r(e.t("Email")),1),s("th",de,r(e.t("Started At")),1),s("th",ue,r(e.t("Lasted For")),1),s("th",_e,r(e.t("Score")),1),s("th",me,r(e.t("Answered Questions")),1),s("th",he,r(e.t("Last updated at")),1)])]),s("tbody",null,[e.userTests?(t(!0),a(u,{key:0},m(e.userTests,o=>(t(),d(e.UserTestItemD,{userTest:o,key:o.id},null,8,["userTest"]))),128)):(t(),a(u,{key:1},m(5,o=>D(e.UserTestItemD,{key:"user-test-placeholder-"+o})),64)),e.userTestCount&&e.userTests&&e.userTests.length<e.userTestCount?(t(),d(e.UserTestItemD,{key:"user-test-placeholder-loading",class:v(e.loaderClassName)})):I("",!0)])],2)):(t(),a(u,{key:0},[e.userTests?(t(!0),a(u,{key:0},m(e.userTests,o=>(t(),d(e.UserTestItem,{userTest:o,key:o.id},null,8,["userTest"]))),128)):(t(),a(u,{key:1},m(2,o=>D(e.UserTestItem,{key:"user-test-placeholder-"+o})),64)),e.userTestCount&&e.userTests&&e.userTests.length<e.userTestCount?(t(),d(e.UserTestItem,{key:"user-test-placeholder-loading",class:v(e.loaderClassName)})):I("",!0)],64))])])]),_:1})}const pe=z(W,[["render",Te],["__scopeId","data-v-b4e148ca"],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/views/HomeView.vue"]]);export{pe as default};
