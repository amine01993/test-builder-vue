const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/UserTestItem-ZsDg5Y6T.js","assets/index-D9eu1wvy.js","assets/index-PsUf1Fe-.css","assets/userTestItem-BL3L-udA.js","assets/utils-DltTuOhC.js","assets/Question-DJVAB3JS.js","assets/UserTestItemD-Cx0wv3Jn.js"])))=>i.map(i=>d[i]);
import{d as N,u as q,a as F,b as H,r as M,o as P,c as $,e as R,n as O,f as u,g as t,w as j,h as s,t as a,i as e,j as n,F as _,k as f,l as S,m as g,p as C,q as E,_ as L,s as z}from"./index-D9eu1wvy.js";import{u as Q}from"./testService-z9XHGfAc.js";import{u as G}from"./userTestService-LEIHiIOd.js";import{_ as J}from"./AppContainer.vue_vue_type_script_setup_true_lang-Ci2WOSVt.js";import"./firestore-CkCHjU9t.js";import"./Question-DJVAB3JS.js";const K={class:"app-main"},W={class:"test-stats"},X={class:"test-stat"},Y={class:"stat-title"},Z={key:0,class:"stat-content"},ee={key:1,class:"placeholder-wave"},se={class:"test-stat"},te={class:"stat-title"},oe={key:0,class:"stat-content"},ae={key:1,class:"placeholder-wave"},ne={class:"test-report-list"},le={scope:"col"},re={scope:"col"},ce={scope:"col"},ie={scope:"col"},de={scope:"col"},ue={scope:"col"},_e={scope:"col"},he={scope:"col"},h="user-tests-loader",pe=N({__name:"HomeView",setup(me){const{t:o}=q(),{auth:V,user:A}=F(),{isDesktop:U,showMessage:T}=H(),{testCount:w,loadTestCount:b}=Q(),{userTestCount:i,userTests:l,loadUserTestCount:D,loadUserTests:I,loadMoreUserTests:x}=G(),p=M(!1);let c=null;const y=E(()=>L(()=>import("./UserTestItem-ZsDg5Y6T.js"),__vite__mapDeps([0,1,2,3,4,5]))),v=E(()=>L(()=>import("./UserTestItemD-Cx0wv3Jn.js"),__vite__mapDeps([6,1,2,3,4,5]))),B=P(V,async()=>{try{await Promise.all([b(),D(),I()]),c||(c=document.querySelector(`.${h}`),d())}catch(k){console.log("HomeView",k),T("failure",o("Error loading test sessions."))}});$(()=>{document.addEventListener("scroll",d),c||(c=document.querySelector(`.${h}`),d())}),R(()=>{B(),document.removeEventListener("scroll",d)});async function d(){if(c&&!p.value&&c.getBoundingClientRect().top<window.innerHeight&&A.value){p.value=!0;try{await x(),await O(),c=document.querySelector(`.${h}`),p.value=!1,d()}catch{T("failure",o("Error loading more test sessions."))}finally{p.value=!1}}}return(k,m)=>(t(),u(J,null,{default:j(()=>[s("div",K,[s("div",W,[s("div",X,[s("div",Y,a(e(o)("Tests")),1),e(w)!==void 0?(t(),n("div",Z,a(e(w)),1)):(t(),n("div",ee,m[0]||(m[0]=[s("div",{class:"placeholder placeholder-lg col-8 bg-secondary"},null,-1)])))]),s("div",se,[s("div",te,a(e(o)("Test Sessions")),1),e(i)!==void 0?(t(),n("div",oe,a(e(i)),1)):(t(),n("div",ae,m[1]||(m[1]=[s("div",{class:"placeholder placeholder-lg col-8 bg-secondary"},null,-1)])))])]),s("div",ne,[e(U)?(t(),n("table",{key:1,class:g(["table",{loading:!e(l)}])},[s("thead",null,[s("tr",null,[s("th",le,a(e(o)("Test")),1),s("th",re,a(e(o)("Full Name")),1),s("th",ce,a(e(o)("Email")),1),s("th",ie,a(e(o)("Started At")),1),s("th",de,a(e(o)("Lasted For")),1),s("th",ue,a(e(o)("Score")),1),s("th",_e,a(e(o)("Answered Questions")),1),s("th",he,a(e(o)("Last updated at")),1)])]),s("tbody",null,[e(l)?(t(!0),n(_,{key:0},f(e(l),r=>(t(),u(e(v),{userTest:r,key:r.id},null,8,["userTest"]))),128)):(t(),n(_,{key:1},f(5,r=>S(e(v),{key:"user-test-placeholder-"+r})),64)),e(i)&&e(l)&&e(l).length<e(i)?(t(),u(e(v),{key:"user-test-placeholder-loading",class:g(h)})):C("",!0)])],2)):(t(),n(_,{key:0},[e(l)?(t(!0),n(_,{key:0},f(e(l),r=>(t(),u(e(y),{userTest:r,key:r.id},null,8,["userTest"]))),128)):(t(),n(_,{key:1},f(2,r=>S(e(y),{key:"user-test-placeholder-"+r})),64)),e(i)&&e(l)&&e(l).length<e(i)?(t(),u(e(y),{key:"user-test-placeholder-loading",class:g(h)})):C("",!0)],64))])])]),_:1}))}}),we=z(pe,[["__scopeId","data-v-6c9171ac"]]);export{we as default};
