import{d as S,u as x,a as C,v as w,r as m,x as V,o as B,e as F,f as A,w as D,g as s,h as a,j as o,F as v,k as E,t as n,p as _,i as r,A as I,B as L,m as T,I as U,C as y,s as j}from"./index-D2vjYLyH.js";import{u as q}from"./userTestService-B6nD3xU5.js";import{_ as z}from"./AppContainer.vue_vue_type_script_setup_true_lang-CDo9AZgN.js";import"./firestore-BC5DlS_a.js";const M={class:"app-main"},O={key:0,class:"alert alert-danger",role:"alert"},P={class:"personal-info-form"},R={class:"form-title mb-4"},$={class:"mb-3"},G={for:"test-input-name",class:"form-label"},H=["disabled"],J={key:0,class:"invalid-feedback is-invalid"},K=["disabled"],Q=S({__name:"SettingsView",setup(W){const{t:l}=x(),{auth:h}=C(),{displayName:i,updateDisplayName:b}=q(),{spaceLabel:N}=w(),p=m(!1),t=m(!1),u=m([]);m("");const d=V(()=>{const e={};return p.value&&i.value===""&&(e.displayName=l("Full Name required")),e}),k=B(h,e=>{e!=null&&e.displayName&&(i.value=e.displayName)});F(()=>{k()});async function g(){if(!t.value){if(t.value=!0,p.value=!0,Object.keys(d.value).length>0){t.value=!1;return}try{await b(),u.value=[]}catch(e){u.value=[l("Server Error")+N.value+": "+e.code]}finally{t.value=!1}}}return(e,f)=>(s(),A(z,null,{default:D(()=>[a("div",M,[u.value.length?(s(),o("div",O,[a("ul",null,[(s(!0),o(v,null,E(u.value,c=>(s(),o("li",{key:c},n(c),1))),128))])])):_("",!0),a("div",P,[a("div",R,n(r(l)("Personal Information")),1),a("div",$,[a("label",G,n(r(l)("Full Name")),1),I(a("input",{type:"text",class:T(["form-control",{"is-invalid":d.value.displayName}]),id:"test-input-name","onUpdate:modelValue":f[0]||(f[0]=c=>U(i)?i.value=c:null),disabled:t.value,"aria-required":""},null,10,H),[[L,r(i)]]),d.value.displayName?(s(),o("div",J,n(d.value.displayName),1)):_("",!0)]),a("button",{type:"button",class:"btn btn-primary",onClick:g,disabled:t.value},[t.value?(s(),o(v,{key:1},[y(n(r(l)("Saving"))+" ...",1)],64)):(s(),o(v,{key:0},[y(n(r(l)("Save")),1)],64))],8,K)])])]),_:1}))}}),ae=j(Q,[["__scopeId","data-v-8b60f526"]]);export{ae as default};
