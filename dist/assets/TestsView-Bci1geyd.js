import{d as g,u as D,q as S,r as y,e as T,x as A,g as k,_ as L,h as C,o as m,c as _,i as s,t as d,n as M,a as l,m as f,b as R,f as I,R as V,F as h,j as E,l as F,y as O}from"./index-B_-_E6VX.js";import{A as j,a as B}from"./AppMenu-SSwb1Ea-.js";import{u as H}from"./testService-hoBBazVx.js";const N=g({__name:"TestItem",props:{test:{type:Object,required:!0}},setup(a,{expose:e}){e();const n=D(),t=S("test-description"),o=y(!1),r=new Date,i=T(()=>o.value?a.test.description.replace(/\n/g,"<br />"):a.test.description.replace(/\n/g,"")),c=T(()=>{const u=a.test.updated_at.toDate();return new Intl.DateTimeFormat("en-US",{day:"numeric",month:"short",year:r.getFullYear()===u.getFullYear()?void 0:"numeric",hour:"numeric",minute:"numeric"}).format(u)});A(()=>{t.value&&t.value.addEventListener("click",p)}),k(()=>{t.value&&t.value.removeEventListener("click",p)});function p(){o.value=!0}function w(){}function x(){const u=n.resolve({name:"test-portal",params:{test_id:a.test.id}}),b=location.origin+u.fullPath;console.log("testLink",b),navigator.clipboard.writeText(b).then(()=>{console.log("copyTestLink.then")}).catch(()=>{console.log("copyTestLink.catch")})}const v={router:n,testDescriptionEl:t,showMore:o,currentDate:r,description:i,updatedAt:c,showMoreDescription:p,deleteTest:w,copyTestLink:x};return Object.defineProperty(v,"__isScriptSetup",{enumerable:!1,value:!0}),v}}),U={class:"test-item-container"},P={class:"test-item-content"},q={class:"test-item-title"},Y={class:"test-item-info"},z=["innerHTML"],G={class:"test-property"},J={class:"test-property"},K={class:"test-last-update"},Q={class:"test-item-actions"};function W(a,e,n,t,o,r){const i=C("RouterLink");return m(),_("div",U,[s("div",P,[s("div",q,d(n.test.name),1),e[4]||(e[4]=s("hr",{class:"test-item-divider"},null,-1)),s("div",Y,[s("div",{class:M(["test-description",{"full-text":t.showMore}]),ref:"test-description",innerHTML:t.description},null,10,z),s("div",G,"Max Score: "+d(n.test.max_points),1),s("div",J,"Time Limit: "+d(n.test.time_limit),1),s("div",K,"Last updated at: "+d(t.updatedAt),1)]),e[5]||(e[5]=s("hr",{class:"test-item-divider"},null,-1)),s("div",Q,[l(i,{to:{name:"view-test",params:{test_id:n.test.id}},class:"btn btn-primary"},{default:f(()=>e[0]||(e[0]=[s("i",{class:"bi bi-eye-fill"},null,-1)])),_:1},8,["to"]),l(i,{to:{name:"edit-test",params:{test_id:n.test.id}},class:"btn btn-success"},{default:f(()=>e[1]||(e[1]=[s("i",{class:"bi bi-pencil-fill"},null,-1)])),_:1},8,["to"]),s("button",{type:"button",class:"btn btn-danger",onClick:t.deleteTest},e[2]||(e[2]=[s("i",{class:"bi bi-trash3-fill"},null,-1)])),s("button",{type:"button",class:"btn btn-warning",onClick:t.copyTestLink},e[3]||(e[3]=[s("i",{class:"bi bi-copy"},null,-1)]))])])])}const X=L(N,[["render",W],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/components/items/TestItem.vue"]]),Z=g({__name:"TestsView",setup(a,{expose:e}){e();const{auth:n}=R(),{getTests:t}=H(),o=y([]),r=I(n,async c=>{console.log("Testsview onAuthStateChanged",c),o.value=await t(c.uid)});k(()=>{r()});const i={auth:n,getTests:t,tests:o,onAuthEventDispose:r,get RouterLink(){return V},AppHeader:j,AppMenu:B,TestItem:X};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),$={class:"app-main"},tt={class:"test-actions"},et={class:"test-list"};function st(a,e,n,t,o,r){return m(),_(h,null,[l(t.AppHeader),l(t.AppMenu),s("div",$,[s("div",tt,[l(t.RouterLink,{to:{name:"create-test"},class:"btn btn-warning create-test"},{default:f(()=>e[0]||(e[0]=[F("Create New Test")])),_:1})]),s("div",et,[(m(!0),_(h,null,E(t.tests,i=>(m(),O(t.TestItem,{test:i,key:i.id},null,8,["test"]))),128))])])],64)}const at=L(Z,[["render",st],["__scopeId","data-v-8faed77a"],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/views/TestsView.vue"]]);export{at as default};
