import{d as T,q as L,r as h,e as v,x,g as y,_ as w,h as D,o as u,c as m,i as e,t as d,n as S,a as c,m as _,b as A,f as C,R as M,F as b,j as R,l as I,y as V}from"./index-CO2k4fc9.js";import{A as E,a as F}from"./AppMenu-C5TNQWpz.js";import{u as O}from"./testService-DY-yTVv9.js";const j=T({__name:"TestItem",props:{test:{type:Object,required:!0}},setup(a,{expose:t}){t();const n=L("test-description"),s=h(!1),o=new Date,r=v(()=>s.value?a.test.description.replace(/\n/g,"<br />"):a.test.description.replace(/\n/g,"")),i=v(()=>{const f=a.test.updated_at.toDate();return new Intl.DateTimeFormat("en-US",{day:"numeric",month:"short",year:o.getFullYear()===f.getFullYear()?void 0:"numeric",hour:"numeric",minute:"numeric"}).format(f)});x(()=>{n.value&&n.value.addEventListener("click",l)}),y(()=>{n.value&&n.value.removeEventListener("click",l)});function l(){s.value=!0}function g(){}function k(){}const p={testDescriptionEl:n,showMore:s,currentDate:o,description:r,updatedAt:i,showMoreDescription:l,deleteTest:g,copyTestLink:k};return Object.defineProperty(p,"__isScriptSetup",{enumerable:!1,value:!0}),p}}),B={class:"test-item-container"},H={class:"test-item-content"},N={class:"test-item-title"},U={class:"test-item-info"},q=["innerHTML"],P={class:"test-property"},Y={class:"test-property"},z={class:"test-last-update"},G={class:"test-item-actions"};function J(a,t,n,s,o,r){const i=D("RouterLink");return u(),m("div",B,[e("div",H,[e("div",N,d(n.test.name),1),t[4]||(t[4]=e("hr",{class:"test-item-divider"},null,-1)),e("div",U,[e("div",{class:S(["test-description",{"full-text":s.showMore}]),ref:"test-description",innerHTML:s.description},null,10,q),e("div",P,"Max Score: "+d(n.test.max_points),1),e("div",Y,"Time Limit: "+d(n.test.time_limit),1),e("div",z,"Last updated at: "+d(s.updatedAt),1)]),t[5]||(t[5]=e("hr",{class:"test-item-divider"},null,-1)),e("div",G,[c(i,{to:{name:"view-test",params:{test_id:n.test.id}},class:"btn btn-primary"},{default:_(()=>t[0]||(t[0]=[e("i",{class:"bi bi-eye-fill"},null,-1)])),_:1},8,["to"]),c(i,{to:{name:"edit-test",params:{test_id:n.test.id}},class:"btn btn-success"},{default:_(()=>t[1]||(t[1]=[e("i",{class:"bi bi-pencil-fill"},null,-1)])),_:1},8,["to"]),e("button",{type:"button",class:"btn btn-danger",onClick:s.deleteTest},t[2]||(t[2]=[e("i",{class:"bi bi-trash3-fill"},null,-1)])),e("button",{type:"button",class:"btn btn-warning",onClick:s.copyTestLink},t[3]||(t[3]=[e("i",{class:"bi bi-copy"},null,-1)]))])])])}const K=w(j,[["render",J],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/components/items/TestItem.vue"]]),Q=T({__name:"TestsView",setup(a,{expose:t}){t();const{auth:n}=A(),{getTests:s}=O(),o=h([]),r=C(n,async l=>{console.log("Testsview onAuthStateChanged",l),o.value=await s(l.uid)});y(()=>{r()});const i={auth:n,getTests:s,tests:o,onAuthEventDispose:r,get RouterLink(){return M},AppHeader:E,AppMenu:F,TestItem:K};return Object.defineProperty(i,"__isScriptSetup",{enumerable:!1,value:!0}),i}}),W={class:"app-main"},X={class:"test-actions"},Z={class:"test-list"};function $(a,t,n,s,o,r){return u(),m(b,null,[c(s.AppHeader),c(s.AppMenu),e("div",W,[e("div",X,[c(s.RouterLink,{to:{name:"create-test"},class:"btn btn-warning create-test"},{default:_(()=>t[0]||(t[0]=[I("Create New Test")])),_:1})]),e("div",Z,[(u(!0),m(b,null,R(s.tests,i=>(u(),V(s.TestItem,{test:i,key:i.id},null,8,["test"]))),128))])])],64)}const nt=w(Q,[["render",$],["__scopeId","data-v-8faed77a"],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/views/TestsView.vue"]]);export{nt as default};
