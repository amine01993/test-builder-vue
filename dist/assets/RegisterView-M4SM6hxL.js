import{d as L,q,u as D,g as M,r as l,c as O,h as B,j as W,E as j,A as z,_ as F,v as T,l as H,w as V,o,b as e,a as n,F as g,m as A,t as b,e as w,x as P,y as S,n as C,z as c,p as J}from"./index-DgVFOuIu.js";import{A as K}from"./AppContainer-B7WmBWY1.js";import"./Breadcrumb-0WoaLxXW.js";const Q=L({__name:"RegisterView",setup(R,{expose:s}){s();const u=q(),{auth:i,user:_,isAnonymous:h,signUpWithGoogle:p}=D(),{validateEmail:t}=M(),v=l(""),f=l(""),U=l(""),m=l(!1);let a=l(null);const y=l(!1),k=l([]),x=O(()=>{const r={};if(!y.value)return r;if(v.value===""?r.email="Email required":t(v.value)||(r.email="Invalid email"),f.value==="")r.password=["Password required"];else if(a.value&&!a.value.isValid){const d=[];a.value.containsLowercaseLetter!==!0&&d.push("Require lowercase character"),a.value.containsNonAlphanumericCharacter!==!0&&d.push("Require special character"),a.value.containsNumericCharacter!==!0&&d.push("Require numeric character"),a.value.meetsMinPasswordLength!==!0&&d.push("Minimum password length is 7"),a.value.meetsMaxPasswordLength!==!0&&d.push("Password too long"),r.password=d}else f.value!==U.value&&(r.confirmPass="Password mismatch");return r}),E=B(i,r=>{h(r)||u.push({name:"home"})});W(()=>{E()});async function I(){if(!m.value){if(m.value=!0,y.value=!0,Object.keys(x.value).length>0){m.value=!1;return}try{const r=j.credential(v.value,f.value);await z(_.value,r),u.push({name:"home"})}catch(r){k.value=["Server Error: "+r.code]}finally{m.value=!1}}}async function G(){try{await p(),u.push({name:"home"})}catch(r){k.value=["Server Error: "+r.code]}}const N={router:u,auth:i,user:_,isAnonymous:h,signUpWithGoogle:p,validateEmail:t,email:v,password:f,confirmPass:U,submitting:m,get validationStatus(){return a},set validationStatus(r){a=r},submitted:y,serverErrors:k,errors:x,onAuthEventDispose:E,register:I,signUpWithG:G,AppContainer:K};return Object.defineProperty(N,"__isScriptSetup",{enumerable:!1,value:!0}),N}}),X={class:"app-main"},Y={class:"sign-container"},Z={class:"login-form"},$={key:0,class:"alert alert-danger",role:"alert"},ss={class:"mb-3"},es={class:"input-group"},is=["disabled"],rs={key:0,class:"invalid-feedback is-invalid"},ts={class:"mb-3"},os={class:"input-group"},as=["disabled"],ns={class:"mb-3"},ls={class:"input-group"},ds=["disabled"],us={key:0,class:"invalid-feedback is-invalid"},ms=["disabled"],cs={class:"signup-link"};function ps(R,s,u,i,_,h){const p=T("RouterLink");return o(),H(i.AppContainer,null,{default:V(()=>[e("div",X,[e("div",Y,[e("div",Z,[s[9]||(s[9]=e("div",{class:"login-form-title mb-4"},"Sign Up",-1)),i.serverErrors.length?(o(),n("div",$,[e("ul",null,[(o(!0),n(g,null,A(i.serverErrors,t=>(o(),n("li",{key:t},b(t),1))),128))])])):w("",!0),e("div",ss,[s[4]||(s[4]=e("label",{for:"login-input-email",class:"form-label"},"Email",-1)),e("div",es,[s[3]||(s[3]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-at"})],-1)),P(e("input",{type:"email",class:C(["form-control",{"is-invalid":i.errors.email}]),id:"login-input-email","onUpdate:modelValue":s[0]||(s[0]=t=>i.email=t),disabled:i.submitting},null,10,is),[[S,i.email]]),i.errors.email?(o(),n("div",rs,b(i.errors.email),1)):w("",!0)])]),e("div",ts,[s[6]||(s[6]=e("label",{for:"login-input-password",class:"form-label"},"Password",-1)),e("div",os,[s[5]||(s[5]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-lock-fill"})],-1)),P(e("input",{type:"password",class:C(["form-control",{"is-invalid":i.errors.password}]),id:"login-input-password","onUpdate:modelValue":s[1]||(s[1]=t=>i.password=t),disabled:i.submitting},null,10,as),[[S,i.password]]),i.errors.password?(o(!0),n(g,{key:0},A(i.errors.password,t=>(o(),n("div",{class:"invalid-feedback is-invalid",key:t},b(t),1))),128)):w("",!0)])]),e("div",ns,[s[8]||(s[8]=e("label",{for:"login-input-password-confirm",class:"form-label"},"Confirm Password",-1)),e("div",ls,[s[7]||(s[7]=e("span",{class:"input-group-text"},[e("i",{class:"bi bi-lock-fill"})],-1)),P(e("input",{type:"password",class:C(["form-control",{"is-invalid":i.errors.confirmPass}]),id:"login-input-password-confirm","onUpdate:modelValue":s[2]||(s[2]=t=>i.confirmPass=t),disabled:i.submitting},null,10,ds),[[S,i.confirmPass]]),i.errors.confirmPass?(o(),n("div",us,b(i.errors.confirmPass),1)):w("",!0)])]),e("button",{type:"button",class:"btn btn-primary",onClick:i.register,disabled:i.submitting},[i.submitting?(o(),n(g,{key:1},[c("SIGNING UP ...")],64)):(o(),n(g,{key:0},[c("SIGN UP")],64))],8,ms)]),e("div",{class:"signup-parties"},[s[11]||(s[11]=c(" Or Sign Up Using ")),s[12]||(s[12]=e("br",null,null,-1)),e("button",{type:"button",class:"btn btn-danger google-auth",onClick:i.signUpWithG},s[10]||(s[10]=[e("i",{class:"bi bi-google"},null,-1)]))]),e("div",cs,[s[14]||(s[14]=c(" Or Sign In Using ")),s[15]||(s[15]=e("br",null,null,-1)),J(p,{to:{name:"login"}},{default:V(()=>s[13]||(s[13]=[c("SIGN IN")])),_:1})])])])]),_:1})}const bs=F(Q,[["render",ps],["__scopeId","data-v-bf0653ef"],["__file","C:/Users/erram/OneDrive/Documents/test-builder-vue/src/views/RegisterView.vue"]]);export{bs as default};
