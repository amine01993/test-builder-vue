import{J as M,a as V,r as p,x as k,K as A,d as D,u as L,b as T,v as j,o as z,e as J,f as K,w as O,g as o,h as e,j as d,F as S,k as R,t as n,p as y,i as r,C as g,A as w,B as x,m as q,I,s as Y}from"./index-D2vjYLyH.js";import{v as $}from"./utils-DltTuOhC.js";import{_ as G}from"./AppContainer.vue_vue_type_script_setup_true_lang-CDo9AZgN.js";import"./Question-DJVAB3JS.js";const H=M("contactService",()=>{const{user:m}=V(),s=p(""),_=p(""),b=p("");function v(){m.value&&(m.value.displayName&&(s.value=m.value.displayName),m.value.email&&(_.value=m.value.email))}async function c(){const{post:f}=A(),C={name:s.value,email:_.value,message:b.value};return await f("/contact-form",C)}return{name:k(()=>s),email:k(()=>_),message:k(()=>b),loadUserInfo:v,sendContactInfo:c}}),P={class:"app-main"},Q={key:0,class:"alert alert-danger",role:"alert"},W={class:"contact-us-form"},X={class:"form-title mb-4"},Z={class:"mb-3"},ee={for:"test-input-name",class:"form-label"},se=["disabled"],ae={key:0,class:"invalid-feedback is-invalid"},te={class:"mb-3"},le={for:"test-input-email",class:"form-label"},ne=["disabled"],ie={key:0,class:"invalid-feedback is-invalid"},oe={class:"mb-3"},re={for:"test-input-message",class:"form-label"},ue=["disabled"],de={key:0,class:"invalid-feedback is-invalid"},ce=["disabled"],me=D({__name:"ContactUsView",setup(m){const{t:s}=L(),{auth:_}=V(),{showMessage:b}=T(),{name:v,email:c,message:f,loadUserInfo:C,sendContactInfo:E}=H(),{spaceLabel:N}=j(),U=p(!1),i=p(!1),h=p([]),l=k(()=>{const a={};return U.value&&(v.value===""&&(a.name=s("Full Name required")),c.value===""?a.email=s("Email required"):$(c.value)||(a.email=s("Invalid email")),f.value===""&&(a.message=s("Message required"))),a}),B=z(_,()=>{C()});J(()=>{B()});async function F(){if(!i.value){if(i.value=!0,U.value=!0,Object.keys(l.value).length>0){i.value=!1;return}try{const a=await E();console.log("response",a),a.success?b("success",s("Your message was sent successfully, Thanks!")):b("failure",a.message??a.error),h.value=[]}catch(a){h.value=[s("Server Error")+N.value+": "+a.code]}finally{i.value=!1}}}return(a,t)=>(o(),K(G,null,{default:O(()=>[e("div",P,[h.value.length?(o(),d("div",Q,[e("ul",null,[(o(!0),d(S,null,R(h.value,u=>(o(),d("li",{key:u},n(u),1))),128))])])):y("",!0),e("div",W,[e("div",X,n(r(s)("Contact us")),1),e("div",Z,[e("label",ee,[g(n(r(s)("Full Name")),1),t[3]||(t[3]=e("span",{class:"required"},"*",-1))]),w(e("input",{type:"text",class:q(["form-control",{"is-invalid":l.value.name}]),id:"test-input-name","onUpdate:modelValue":t[0]||(t[0]=u=>I(v)?v.value=u:null),disabled:i.value,"aria-required":""},null,10,se),[[x,r(v)]]),l.value.name?(o(),d("div",ae,n(l.value.name),1)):y("",!0)]),e("div",te,[e("label",le,[g(n(r(s)("Email")),1),t[4]||(t[4]=e("span",{class:"required"},"*",-1))]),w(e("input",{type:"text",class:q(["form-control",{"is-invalid":l.value.email}]),id:"test-input-email","onUpdate:modelValue":t[1]||(t[1]=u=>I(c)?c.value=u:null),disabled:i.value,"aria-required":""},null,10,ne),[[x,r(c)]]),l.value.email?(o(),d("div",ie,n(l.value.email),1)):y("",!0)]),e("div",oe,[e("label",re,[g(n(r(s)("Message")),1),t[5]||(t[5]=e("span",{class:"required"},"*",-1))]),w(e("textarea",{class:q(["form-control",{"is-invalid":l.value.message}]),id:"test-input-message",rows:"5","onUpdate:modelValue":t[2]||(t[2]=u=>I(f)?f.value=u:null),disabled:i.value,"aria-required":""},null,10,ue),[[x,r(f)]]),l.value.message?(o(),d("div",de,n(l.value.message),1)):y("",!0)]),e("button",{type:"button",class:"btn btn-primary",onClick:F,disabled:i.value},[i.value?(o(),d(S,{key:1},[g(n(r(s)("Sending"))+" ...",1)],64)):(o(),d(S,{key:0},[g(n(r(s)("Send")),1)],64))],8,ce)])])]),_:1}))}}),be=Y(me,[["__scopeId","data-v-639ff2b9"]]);export{be as default};
